<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LV Swiss Bank</title>
    <link rel="stylesheet" href="../style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../script/index.js" defer></script>
    <script src="../script/authentication.js" defer></script>

    <script>
        function displayTransactions(filter = 'all') {
            const transactions = JSON.parse(localStorage.getItem('transactions')) || [];
            const transactionList = document.getElementById('transactionList');
            transactionList.innerHTML = '';

            const filteredTransactions = filter === 'all' ? transactions : transactions.filter(t => t.type === filter);

            filteredTransactions.forEach(transaction => {
                const transactionItem = document.createElement('div');
                transactionItem.classList.add('transaction-item');
                
                if (transaction.type === 'send') {
                    transactionItem.innerHTML = `
                        <p>Type: Send</p>
                        <p>Sender: ${transaction.details.senderName}</p>
                        <p>Sender Account: ${transaction.details.senderAccount}</p>
                        <p>Receiver Account: ${transaction.details.receiverAccount}</p>
                        <p>Amount: Rs.${transaction.details.amount}</p>
                        <p>Date: ${new Date(transaction.date).toLocaleString()}</p>
                    `;
                } else if (transaction.type === 'withdraw') {
                    transactionItem.innerHTML = `
                        <p>Type: Withdraw</p>
                        <p>Amount: Rs.${transaction.details.amount}</p>
                        <p>Date: ${new Date(transaction.date).toLocaleString()}</p>
                    `;
                } else if (transaction.type === 'deposit') {
                    transactionItem.innerHTML = `
                        <p>Type: Deposit</p>
                        <p>Amount: Rs.${transaction.details.amount}</p>
                        <p>Date: ${new Date(transaction.date).toLocaleString()}</p>
                    `;
                }

                transactionList.appendChild(transactionItem);
            });
        }

        window.onload = function() {
            displayTransactions();
        }
    </script>
</head>
<body class="bg-black">
    <!-- Task Bar -->
    <div class="relative">
        <img src="../images/Abstract Design.svg" alt="" class="h-64">
        <div class="md:mx-8 mx-0 absolute top-8 left-16 flex items-center space-x-4 md:space-x-64 border-lime-300 border-b-[0.5px] bg-stone-900 p-1.5 px-3 rounded-full">
            <div class="flex items-center gap-2">
                <img src="../images/logo.png" alt="logo" width="30px" height="30px">
                <p class="font-serif font-bold text-base text-white max-[320px]:text-sm">LV Swiss</p>
            </div>
            <img src="../images/three line.svg" alt="" class="md:hidden block p-5" onclick="nav()" id="ham">
            <div id="menu" class="hidden md:flex md:flex-row flex-col md:gap-56 border-white border-2 md:border-0 mt-1.5 absolute md:static top-16 md:top-0 left-0 w-full md:w-auto bg-stone-900 md:bg-transparent p-4 md:p-0 rounded-lg md:rounded-none">
                <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-8" id="firstnav">
                    <a href="./home.html" class="font-mono font-thin hover:bg-slate-600 rounded-full text-white p-2">Home</a>
                    <a href="./transaction.html" class="font-mono font-thin hover:bg-slate-600 rounded-full text-white p-2">Transactions</a>
                    <a href="profile.html" class="font-mono font-thin hover:bg-slate-600 rounded-full text-white p-2">Profile</a>
                    <a href="./security.html" class="font-mono font-thin hover:bg-slate-600 rounded-full text-white p-2">Security</a>
                </div>
                <button onclick="logout()" class="font-mono font-thin hover:bg-[#CAFF33] hover:text-black rounded-full text-white p-2" id="secondnav">Logout</button>
            </div>
        </div>
    </div>

    <!-- Transaction History -->
    <div >
        <h1 class="text-6xl text-center text-[#CAFF33] font-black">Transaction History</h1>
        <div class="flex justify-center my-16 space-x-32">
            <button class="font-medium rounded-full px-4 py-1.5 hover:bg-white bg-[#CAFF33]"  onclick="displayTransactions('all')">All</button>
            <button class="font-medium rounded-full px-4 py-1.5 hover:bg-white bg-[#CAFF33]"  onclick="displayTransactions('send')">Send</button>
            <button class="font-medium rounded-full px-4 py-1.5 hover:bg-white bg-[#CAFF33]"  onclick="displayTransactions('withdraw')">Withdraw</button>
            <button class="font-medium rounded-full px-4 py-1.5 hover:bg-white bg-[#CAFF33]"  onclick="displayTransactions('deposit')">Deposit</button>
        </div>
        <div id="transactionList" class="h-max w-max">
        </div>
    </div>
</body>
</html>
